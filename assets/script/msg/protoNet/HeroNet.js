var MSGCode = require("MSGCode")
MSGCode.proto[MSGCode.OP_HERO_INFO_C]        = "Hero.OPHeroInfo"
MSGCode.proto[MSGCode.OP_HERO_INFO_S]        = "Hero.OPHeroInfoRet"
MSGCode.proto[MSGCode.OP_GET_LINE_HERO_C]    = "Hero.OPGetLineHero"
MSGCode.proto[MSGCode.OP_GET_LINE_HERO_S]    = "Hero.OPGetLineHeroRet"
MSGCode.proto[MSGCode.OP_SET_LINE_HERO_C]   = "Hero.OPSetLineHero"
MSGCode.proto[MSGCode.OP_SET_LINE_HERO_S]   = "Hero.OPSetLineHeroRet"
MSGCode.proto[MSGCode.OP_ADD_JOB_POINT_C]   = "Hero.OPAddJobPoint"
MSGCode.proto[MSGCode.OP_ADD_JOB_POINT_S]   = "Hero.OPAddJobPointRet"
MSGCode.proto[MSGCode.OP_REMOVE_JOB_POINT_C]   = "Hero.OPRemoveJobPoint"
MSGCode.proto[MSGCode.OP_REMOVE_JOB_POINT_S]   = "Hero.OPRemoveJobPointRet"
MSGCode.proto[MSGCode.OP_SKILL_SET_C]   = "Hero.OPSkillSet"
MSGCode.proto[MSGCode.OP_SKILL_SET_S]   = "Hero.OPSkillSetRet"

MSGCode.proto[MSGCode.OP_PUSH_HERO_ATTRIBUTE_S]   = "Hero.pushHeroAttribute"

MSGCode.proto[MSGCode.OP_CULTURE_C]   = "Hero.OPCulture"
MSGCode.proto[MSGCode.OP_CULTURE_S]   = "Hero.OPCultureRet"
MSGCode.proto[MSGCode.OP_CULTURE_Save_C]   = "Hero.OPCultureSave"
MSGCode.proto[MSGCode.OP_CULTURE_Save_S]   = "Hero.OPCultureSaveRet"

MSGCode.proto[MSGCode.OP_TRAIN_C]   = "Hero.OPTrain"
MSGCode.proto[MSGCode.OP_TRAIN_S]   = "Hero.OPTrainRet"
MSGCode.proto[MSGCode.OP_AWAKEN_C]   = "Hero.OPAwaken"
MSGCode.proto[MSGCode.OP_AWAKEN_S]   = "Hero.OPAwakenRet"

MSGCode.proto[MSGCode.OP_UNLOCK_C]   = "Hero.OPHeroUnlock"
MSGCode.proto[MSGCode.OP_UNLOCK_S]   = "Hero.OPHeroUnlockRet"

MSGCode.proto[MSGCode.OP_TUNE_C]   = "Hero.OPTune"
MSGCode.proto[MSGCode.OP_TUNE_S]   = "Hero.OPTuneRet"

MSGCode.proto[MSGCode.OP_HERO_RESERVATION_C]   = "Hero.OPHeroReservation"
MSGCode.proto[MSGCode.OP_HERO_RESERVATION_S]   = "Hero.OPHeroReservationRet"

MSGCode.proto[MSGCode.OP_HERO_RESERVATION_INFO_C]   = "Hero.OPHeroReservationInfo"
MSGCode.proto[MSGCode.OP_HERO_RESERVATION_INFO_S]   = "Hero.OPHeroReservationInfoRet"

MSGCode.proto[MSGCode.OP_HERO_QUALITY_INFO_C]   = "Hero.OPHeroRiseQualityInfo"
MSGCode.proto[MSGCode.OP_HERO_QUALITY_INFO_S]   = "Hero.OPHeroRiseQualityInfoRet"

MSGCode.proto[MSGCode.OP_HERO_QUALITY_C]   = "Hero.OPHeroRiseQuality"
MSGCode.proto[MSGCode.OP_HERO_QUALITY_S]   = "Hero.OPHeroRiseQualityRet"

MSGCode.proto[MSGCode.OP_WASH_HERO_C]   = "Hero.OPWashHero"
MSGCode.proto[MSGCode.OP_WASH_HERO_S]   = "Hero.OPWashHeroRet"

MSGCode.proto[MSGCode.OP_HERO_UP_LEVEL_C]   = "Hero.OPHeroUpLevel"
MSGCode.proto[MSGCode.OP_HERO_UP_LEVEL_S]   = "Hero.OPHeroUpLevelRet"

MSGCode.proto[MSGCode.OP_SKILL_UNLOCK_C]   = "Hero.OPSkillUnlock"
MSGCode.proto[MSGCode.OP_SKILL_UNLOCK_S]   = "Hero.OPSkillUnlockRet"

MSGCode.proto[MSGCode.OP_HERO_RELATE_LIST_C]   = "Hero.OPHeroRelateList"
MSGCode.proto[MSGCode.OP_HERO_RELATE_LIST_S]   = "Hero.OPHeroRelateListRet"
MSGCode.proto[MSGCode.OP_HERO_AID_LIST_C]   = "Hero.OPHeroAidList"
MSGCode.proto[MSGCode.OP_HERO_AID_LIST_S]   = "Hero.OPHeroAidListRet"
MSGCode.proto[MSGCode.OP_USE_HEROAID_C]   = "Hero.OPUseHeroAid"
MSGCode.proto[MSGCode.OP_USE_HEROAID_S]   = "Hero.OPUseHeroAidRet"
MSGCode.proto[MSGCode.OP_RELATE_REDTIP_S]   = "Hero.OPHeroRelateRedTipRet"
MSGCode.proto[MSGCode.OP_RELATE_REDTIP_C]   = "Hero.OPHeroRelateRedTip"

MSGCode.proto[MSGCode.OP_HERO_SKIN_SET_C]   = "Hero.OPHeroSkinSet"
MSGCode.proto[MSGCode.OP_HERO_SKIN_SET_S]   = "Hero.OPHeroSkinSetRet"

MSGCode.proto[MSGCode.OP_CHIP_TO_HEROCOIN_C]   = "Hero.OPChipToHeroCoin"
MSGCode.proto[MSGCode.OP_CHIP_TO_HEROCOIN_S]   = "Hero.OPChipToHeroCoinRet"

MSGCode.proto[MSGCode.OP_POOL_HERO_SYNC]   = "Hero.OPPoolHeroInfoSync"
MSGCode.proto[MSGCode.OP_POOL_ACTION_C]   = "Hero.OPPoolAction"
MSGCode.proto[MSGCode.OP_POOL_ACTION_S]   = "Hero.OPPoolActionRet"

MSGCode.proto[MSGCode.OP_HERO_DYN_INFO_C]   = "Hero.OPHeroDynInfo"
MSGCode.proto[MSGCode.OP_HERO_DYN_INFO_S]   = "Hero.OPHeroDynInfoRet"

MSGCode.proto[MSGCode.OP_HERO_LOCK_C]   = "Hero.OPHeroLock"
MSGCode.proto[MSGCode.OP_HERO_LOCK_S]   = "Hero.OPHeroLockRet"

MSGCode.proto[MSGCode.OP_HERO_WEAPON_C] = "Hero.OPHeroWeapon"
MSGCode.proto[MSGCode.OP_HERO_WEAPON_S] = "Hero.OPHeroWeaponRet"

cc.Class({
    properties: {
        
    },
    heroLock(heroId,lock){
        Gm.sendCmdHttp(MSGCode.OP_HERO_LOCK_C,{heroId:heroId,lock:lock})
    },
    dynInfo(heroId,moduleId=0){
        Gm.sendCmdHttp(MSGCode.OP_HERO_DYN_INFO_C,{heroId:heroId,moduleId:moduleId})
    },
    sendPoolAction:function(action,heroId,siteId){
        this.poolHero = heroId
        this.poolIdx = siteId
        Gm.sendCmdHttp(MSGCode.OP_POOL_ACTION_C,{action:action,heroId:heroId||0,siteId:siteId||0})
    },
    chipToHeroCoin(baseId,count){
        Gm.sendCmdHttp(MSGCode.OP_CHIP_TO_HEROCOIN_C,{baseId:baseId,count:count})
    },
    setSkin(heroId,skin){
        Gm.sendCmdHttp(MSGCode.OP_HERO_SKIN_SET_C,{heroId:heroId,skin:skin})
    },
    relateRed(){
        if (!Gm.userInfo.isLogin()){
            return
        }
        Gm.sendCmdHttp(MSGCode.OP_RELATE_REDTIP_C)
    },
    relateList(){
        Gm.sendCmdHttp(MSGCode.OP_HERO_RELATE_LIST_C)
    },
    relateAidList(idGroup,heroGroupId){
        this.idGroup = idGroup
        Gm.sendCmdHttp(MSGCode.OP_HERO_AID_LIST_C,{heroGroupId:heroGroupId})
    },
    useRelateAid(idGroup,heroGroupId,targetPlayerId){
        Gm.sendCmdHttp(MSGCode.OP_USE_HEROAID_C,{idGroup:idGroup,heroGroupId:heroGroupId,targetPlayerId:targetPlayerId})
    },
    reserInfo(baseId){
        Gm.sendCmdHttp(MSGCode.OP_HERO_RESERVATION_INFO_C,{baseId:baseId})
    },
    reser(baseId){
        Gm.sendCmdHttp(MSGCode.OP_HERO_RESERVATION_C,{baseId:baseId})
    },
    getHero:function(heroId,heroList){
        if (heroList){
            Gm.sendCmdHttp(MSGCode.OP_HERO_INFO_C,{otherHeroId:heroList})
        }else{
            Gm.sendCmdHttp(MSGCode.OP_HERO_INFO_C,{heroId:heroId||0})
        }
    },
    getLineHero:function(type,targetId,readyData){
        this.lineType = type
        this.readyData = readyData
        Gm.sendCmdHttp(MSGCode.OP_GET_LINE_HERO_C,{type:type||0,targetId:targetId||0})
    },
    setGjHero:function(heros,lineType){
        this.teamHeros = heros
        this.lineType = lineType
        Gm.sendCmdHttp(MSGCode.OP_SET_LINE_HERO_C,{heroId:heros,lineType:lineType})
    },
    addJobPoint:function(heroId,job,jobPoint){
        Gm.sendCmdHttp(MSGCode.OP_ADD_JOB_POINT_C,{heroId:heroId||0,job:job,jobPoint:jobPoint})
    },
    removeJobPoint:function(heroId){
        Gm.sendCmdHttp(MSGCode.OP_REMOVE_JOB_POINT_C,{heroId:heroId||0})
    },
    skillSet:function(heroId,skillList){
        Gm.sendCmdHttp(MSGCode.OP_SKILL_SET_C,{heroId:heroId||0,skillList:skillList})
    },
    sendCulTure:function(heroId,count,type){
        Gm.sendCmdHttp(MSGCode.OP_CULTURE_C,{playerId:Gm.userInfo.id,heroId:heroId,count:count,type:type})
    },
    sendCultureSave:function(heroId){
        Gm.sendCmdHttp(MSGCode.OP_CULTURE_Save_C,{playerId:Gm.userInfo.id,heroId:heroId})
    },
    sendTrain:function(heroId,itemId,nums){
        Gm.sendCmdHttp(MSGCode.OP_TRAIN_C,{playerId:Gm.userInfo.id,heroId:heroId,itemId:itemId,itemNum:nums})
    },
    sendAwaken:function(heroId){
        Gm.sendCmdHttp(MSGCode.OP_AWAKEN_C,{playerId:Gm.userInfo.id,heroId:heroId})
    },
    heroUnlock:function(baseId,count=50){
        Gm.sendCmdHttp(MSGCode.OP_UNLOCK_C,{heroBaseId:baseId,count:count})
    },
    sendTune:function(heroId,type){
        Gm.sendCmdHttp(MSGCode.OP_TUNE_C,{herosendHeroRiseQualityId:heroId,type:type})
    },
    sendQualityInfo:function(heroId){
        Gm.sendCmdHttp(MSGCode.OP_HERO_QUALITY_INFO_C,{heroId:heroId})
    },
    sendHeroRiseQuality(data){
        MSGCode.proto['test_001']   = "Hero.HeroRiseQualityInfo"
        var list = []
        for (var i = 0; i < data.length; i++) {
            var v = data[i]
            var pb = Gm.netLogic.protoCode.encode('test_001',{heroId:v.heroId,consumeHeroIds:v.removeIds})
            list.push(pb)
        }
        Gm.sendCmdHttp(MSGCode.OP_HERO_QUALITY_C,{infos:list})
    },
    xl:function(heroId,washType,lockAttr){
        this.heroId = heroId
        Gm.sendCmdHttp(MSGCode.OP_WASH_HERO_C,{heroId:heroId,washType:washType,lockAttr:lockAttr||[]})
    },
    heroUpLevel:function(heroId,level){
        this.willLevel = level
        Gm.sendCmdHttp(MSGCode.OP_HERO_UP_LEVEL_C,{heroId:heroId,level:level||0})
    },
    skillUnlock:function(heroId,skillId){
        Gm.sendCmdHttp(MSGCode.OP_SKILL_UNLOCK_C,{heroId:heroId,skillId:skillId})
    },
    //专属武器升级
    excWeaponUpgrade(heroId){
        Gm.sendCmdHttp(MSGCode.OP_HERO_WEAPON_C,{heroId:heroId,type:1})
    },
    //专属武器重置
    excWeaponReLevel(heroId){
        Gm.sendCmdHttp(MSGCode.OP_HERO_WEAPON_C,{heroId:heroId,type:2})
    },
});
